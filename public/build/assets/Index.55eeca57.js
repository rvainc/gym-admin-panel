import{r as y,o as s,c as o,b as e,d as C,v as D,C as I,a as i,x as S,y as B,_ as V,D as $,i as k,w as _,F as x,s as g,j as w,e as u,L as f,g as v,E as N,t as c,n as z,z as E,A as K}from"./app.41d51c05.js";import{_ as L}from"./AuthenticatedLayout.318d19df.js";import{_ as P}from"./BarCodeReaderModal.3e70aad5.js";import{_ as F}from"./Pagination.dad70bd6.js";import{_ as R}from"./_plugin-vue_export-helper.cdc0426e.js";const T={class:"d-flex"},j={class:"input-group"},q=["onKeydown"],A=e("i",{class:"fa-solid fa-barcode"},null,-1),M=[A],U=e("i",{class:"fa-solid fa-magnifying-glass"},null,-1),G=[U],H={__name:"SearchBar",props:["href","method"],setup(a){const m=a,d=y(""),l=y(!1);function b(){V.isEmpty(d.value)||$.Inertia.visit(m.href,{method:m.method,data:{search:d.value,page:1}})}function t(h){l.value=!1,d.value=h.text}return(h,r)=>(s(),o("div",S(B(h.$attrs)),[e("div",T,[e("div",j,[C(e("input",{"onUpdate:modelValue":r[0]||(r[0]=p=>d.value=p),type:"text",class:"form-control",placeholder:"\u041F\u043E\u0448\u0443\u043A","aria-label":"Search",onKeydown:I(b,["enter"])},null,40,q),[[D,d.value]]),e("button",{id:"button-addon2",class:"btn btn-secondary",type:"button",onClick:r[1]||(r[1]=p=>l.value=!0)},M),e("button",{class:"btn btn-secondary",type:"button",onClick:b},G)])]),i(P,{show:l.value,onClosed:r[2]||(r[2]=p=>l.value=!1),onDecode:t},null,8,["show"])],16))}};const n=a=>(E("data-v-170b1b06"),a=a(),K(),a),J={class:"mb-3 mb-md-5"},O={key:0},Q={class:"badge bg-secondary"},W=n(()=>e("i",{class:"ms-1 fa-solid fa-circle-xmark"},null,-1)),X={class:"form-check mt-4"},Y=["checked"],Z=n(()=>e("label",{class:"form-check-label",for:"flexCheckDefault"}," \u041F\u043E\u043A\u0430\u0437\u0443\u0432\u0430\u0442\u0438 \u0432\u0438\u0434\u0430\u043B\u0435\u043D\u0438\u0445 ",-1)),ee={class:"d-flex align-auto align-items-center"},te=n(()=>e("div",{class:"h4 me-auto"},"\u041A\u043B\u0456\u0454\u043D\u0442\u0438",-1)),se=n(()=>e("i",{class:"fa-sharp fa-solid fa-plus"},null,-1)),ae={key:0},oe={class:"table table-hover mt-3 w-100 align-middle"},le=n(()=>e("thead",null,[e("tr",null,[e("th",{scope:"col",style:{width:"1%"}},"#"),e("th",{scope:"col"},[e("div",null,"\u041A\u043B\u0456\u0454\u043D\u0442")]),e("th",{scope:"col",class:"d-none d-md-table-cell",style:{width:"20%"}},"\u0422\u0435\u043B\u0435\u0444\u043E\u043D"),e("th",{scope:"col",class:"d-none d-md-table-cell",style:{width:"20%"}},"\u041D\u043E\u043C\u0435\u0440 \u043A\u0430\u0440\u0442\u043A\u0438"),e("th",{scope:"col",class:"d-none d-md-table-cell text-center",style:{width:"20%"}},"\u041F\u0440\u043E\u043F\u043B\u0430\u0447\u0435\u043D\u043E"),e("th",{scope:"col",style:{width:"1%"}},"\u0414\u0456\u0457")])],-1)),ne={style:{"max-width":"0"}},de={class:"d-flex align-items-center"},ce={class:"text-truncate"},ie={class:"d-md-none d-flex align-items-center"},re=n(()=>e("i",{class:"fa-solid fa-phone me-2 text-secondary"},null,-1)),_e={class:"w-100 text-truncate"},he={class:"d-md-none d-flex align-items-center"},ue={key:0,class:"fa-solid fa-credit-card text-secondary me-2"},fe={class:"w-100 text-truncate"},me={class:"d-none d-md-table-cell"},be={class:"d-none d-md-table-cell"},pe={class:"d-none d-md-table-cell text-center"},ve={key:0,class:"fa-solid fa-check check"},ye={key:1,class:"fa-solid fa-xmark xmark"},ke={class:"text-nowrap text-end"},xe={key:0,class:"btn-group btn-group-sm"},ge=["onClick"],we=n(()=>e("i",{class:"fa-solid fa-reply"},null,-1)),$e=[we],Ce={key:1},De={class:"btn-group btn-group-sm"},Ie=n(()=>e("i",{class:"fa-solid fa-pen-to-square"},null,-1)),Se=n(()=>e("i",{class:"fa-solid fa-eye"},null,-1)),Be=["onClick"],Ve=n(()=>e("i",{class:"fa-solid fa-trash"},null,-1)),Ne=[Ve],ze={key:1,class:"text-center h5 p-5"},Ee={__name:"Index",props:["customers","labels","showDeleted","message"],setup(a){const m=a;function d(){$.Inertia.get(N().url.value,{show_deleted:m.showDeleted?"0":"1"})}return(l,b)=>(s(),k(L,{title:"\u041A\u043B\u0456\u0454\u043D\u0442\u0438"},{default:_(()=>[e("div",J,[i(H,{href:l.$page.url,method:"get",class:"mb-2"},null,8,["href"]),a.labels.length?(s(),o("div",O,[(s(!0),o(x,null,g(a.labels,t=>(s(),k(u(f),{href:t.url},{default:_(()=>[e("span",Q,[v(c(t.title)+" ",1),W])]),_:2},1032,["href"]))),256))])):w("",!0),e("div",X,[e("input",{id:"flexCheckDefault",checked:a.showDeleted,class:"form-check-input",type:"checkbox",onClick:d},null,8,Y),Z])]),e("div",ee,[te,e("div",null,[i(u(f),{href:l.route("admin.customers.create"),class:"btn btn-secondary"},{default:_(()=>[se]),_:1},8,["href"])])]),a.customers.data.length?(s(),o("div",ae,[e("table",oe,[le,e("tbody",null,[(s(!0),o(x,null,g(a.customers.data,t=>(s(),o("tr",{class:"table-rov",key:t.data.id},[e("td",null,c(t.data.id),1),e("td",ne,[e("div",de,[e("i",{class:z(["fa-solid fa-circle fa-2xs d-md-none me-2",{"text-success":t.data.active_transactions_exists,"text-danger":!t.data.active_transactions_exists}])},null,2),e("div",ce,c(t.data.full_name),1)]),e("div",ie,[re,e("div",_e,c(t.data.phone_number),1)]),e("div",he,[t.data.card_number?(s(),o("i",ue)):w("",!0),e("div",fe,c(t.data.card_number),1)])]),e("td",me,c(t.data.phone_number),1),e("td",be,c(t.data.card_number||"-"),1),e("td",pe,[t.data.active_transactions_exists?(s(),o("i",ve)):(s(),o("i",ye))]),e("td",ke,[t.data.deleted_at?(s(),o("div",xe,[e("button",{class:"btn btn-secondary",onClick:h=>l.$inertia.post(t.links.restore_url)},$e,8,ge)])):(s(),o("span",Ce,[e("span",De,[i(u(f),{href:t.links.edit_url,class:"btn btn-secondary"},{default:_(()=>[Ie]),_:2},1032,["href"]),i(u(f),{href:t.links.show_url,class:"btn btn-secondary"},{default:_(()=>[Se]),_:2},1032,["href"]),e("button",{class:"btn btn-danger",onClick:h=>l.$inertia.delete(t.links.delete_url)},Ne,8,Be)])]))])]))),128))])]),i(F,{model:a.customers},null,8,["model"])])):(s(),o("div",ze,[v(" \u0416\u043E\u0434\u043D\u043E\u0433\u043E \u0437\u0430\u043F\u0438\u0441\u0443 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E. "),i(u(f),{href:l.route("admin.customers.create")},{default:_(()=>[v(" \u0414\u043E\u0434\u0430\u0442\u0438 \u041A\u043B\u0456\u0454\u043D\u0442\u0430. ")]),_:1},8,["href"])]))]),_:1}))}},Te=R(Ee,[["__scopeId","data-v-170b1b06"]]);export{Te as default};
